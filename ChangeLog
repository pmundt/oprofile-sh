2002-06-15  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.in: compile module early as it's most
	  likely to fail
 
	* TODO: update
 
	* doc/oprofile.xml:
	* configure.in: remove unneeded --with-cc
 
	* module/x86/Makefile.in: use USE_STANDARD_AS_RULE
 
	* module/x86/op_nmi.c: add preemption exclusion

2002-06-15  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_parse_proc.c: remove FIXME. We are fine to
	  assume first entry in maps is the executable, because
	  this is exactly what the kernel does (see /proc/pid/exe)
 
2002-06-15  John Levon  <moz@compsoc.man.ac.uk>

	* pp/oprofpp.cpp: call check_mtime() correctly
	  for shared libraries
 
2002-06-14  John Levon  <moz@compsoc.man.ac.uk>

	* libop/op_events.c: add warning
 
	* module/Makefile.in: link against libop.a like I meant to
 
	* module/oprofile.h:
	* module/oprofile.c: readability cleanup
 
2002-06-11  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h:
	* module/x86/arch_compat.h: remove arch_compat.h,
	  add BUG_ON()

	* module/op_util.c: return -EINVAL not 1 from check_range() 

	* module/oprofile.c: use BUG_ON() in release functions,
	  fix use of check_range, remove spurious check for malloc
	  failure (already checked)

	* module/oprofile.h: clarify API 

	* module/x86/op_msr.h: new file, MSR back-compat

	* module/x86/op_nmi.c:
	* module/x86/op_apic.c: use it
 
2002-06-10  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* configure.in: remove old checks we don't need.
	  Add to EXTRA_CFLAGS not KCFLAGS 

	* module/Makefile.in: update to use Rules.make and
	  kernel rules.
 
	* module/op_init.c: make this one include kernel modversion
	  stuff for 2.2
 
	* module/oprofile.h: remove __cacheline_aligned in wrong place

	* module/x86/Makefile.in: use Rules.make (hacky)

	* module/x86/arch.mak: remove
 
	* module/x86/op_fixmap.c: add missing header
 
	* module/x86/op_syscalls.c: my_sys_exit is not static
 
2002-06-09  Philippe Elie  <phil.el@wanadoo.fr>

	* libutil++/cverb.h:
	* libutil++/cverb.cpp: cverb ostream initializations
	* pp/op_merge.cpp:
	* pp/op_time_options.cpp:
	* pp/op_to_source_options.cpp:
	* pp/oprofpp_options.cpp: use it

	* utils/Makefile.in: fix a typo in lib dependencies

2002-06-07  Philippe Elie  <phil.el@wanadoo.fr>

	* TODO: update

	* pp/samples_container.cpp:
	* pp/samples_container.h: add an hint parameter to add()
	  used to avoid recording all samples.
	* pp/oprofpp.cpp: use it for the -s option. This change
	  slightly behavior of oprofpp -s, now percent are relative
	  to the selected symbol, not to the whole samples file.
	  Performance of oprofpp -s are improved a lot (40 times on vmlinux)

	* utils/Makefile.in: missing libs dependencies

2002-06-07  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/Makefile.in:
	* dae/Makefile.in:
	* gui/Makefile.in: update dependencies for library

2002-06-07  Philippe Elie  <phil.el@wanadoo.fr>

	* libopt++/popt_options.cpp:
	* libopt++/popt_options.h: memory leak fix

2002-06-07  Philippe Elie  <phil.el@wanadoo.fr>

	* libutil++/Makefile.in: fix bfd compilation problem
	  with gcc >= 3.0 and old bfd.h
	* module/Makefile.in:
	* module/x86/Makefile.in: fix -Werror typo
	* pp/op_merge.cpp:
	* pp/op_time_options.cpp:
	* pp/op_to_source_options.cpp:
	* pp/oprofpp_options.cpp: work around for cverb
	  initialisations and gcc 2.91.
	* pp/op_to_source.cpp: use the right comand line argument.

2002-06-07  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* libutil++/utility.h: fix stupid bug, add scoped_array

	* libutil++/op_bfd.h:
	* libutil++/op_bfd.cpp: use it

2002-06-07  John Levon  <moz@compsoc.man.ac.uk>

	* libutil++/utility.h: add a scoped_ptr

	* pp/op_to_source.cpp:
	* pp/samples_container.h:
	* pp/samples_container.cpp: use it

2002-06-07  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_kernel.c: remove some duplicate code
 
2002-06-07  John Levon  <moz@compsoc.man.ac.uk>

	* pp/opp_symbol.cpp: kill last of the accursed char
	  arrays

2002-06-07  John Levon  <moz@compsoc.man.ac.uk>

	* libutil++/op_bfd.cpp:
	* libutil++/op_bfd.h:
	* libutil++/verbose_ostream.h:
	* pp/op_merge.cpp:
	* pp/op_time_options.cpp:
	* pp/oprofpp_options.cpp:
	* pp/op_to_source_options.cpp: remove verbose_ostream
	  in favour of a much simpler solution
 
	* module/oprofile.h: remove dead prototype
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* module/x86/Makefile.in:
	* module/Makefile.in: remove 2.91 check, add 2.5 check
 
	* module/compat22.h:
	* module/compat24.h:
	* module/apic_up_compat.h: move to ...

	* module/x86/op_apic.h:
	* module/x86/apic_compat.h: ... here
 
	* module/compat.h: move arch stuff to ...

	* module/x86/arch_compat.h: ... here
 
2002-06-06  Philippe Elie  <phil.el@wanadoo.fr>

	* configure.in: remove gcc 2.91 check
	* make.common.in: use -Werror even for gcc 2.91
	* gui/oprof_start.cpp:
	* libutil++/op_bfd.cpp:
	* pp/derive_files.cpp:
	* pp/op_to_source.cpp: small tweak for gcc 2.91 and -Werror

2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_rtc.c: use check_range
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: fix typo so non-2.91 is detected
 
	* module/Makefile.in:
	* module/x86/Makefile.in: enable -Werror

	* module/op_dname.c:
	* module/oprofile.h:
	* module/oprofile.c:
	* module/op_util.h:
	* module/op_util.c:
	* module/x86/op_nmi.c: add op_util.h, make
	  op_check_range a function check_range
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in: use @CC@, add clean for x86

	* module/compat24.h: add path_hash prototype 
 
	* module/x86/Makefile.in: use @CC@, make sure
	  options get picked up
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* libutil/op_get_time.c: return "" not NULL
	  on failure, so we don't try to printf NULL
 
	* module/op_dname.c: do_path_hash_2_4 should not be static now 

	* module/oprofile.c: add const
 
2002-06-06  Philippe Elie  <phil.el@wanadoo.fr>

	* module/x86: new directory, for now some small portion
	  of x86 dependant code remains in module/* mainly in
	  oprofile.[ch]. This patch also don't take care about
	  libop/* which are architecture dependant

	* module/op_apic.c:
	* module/op_nmi.c:
	* module/op_syscalls.c:
	* module/oprofile_nmi.S:
	* module/op_fixmap.c: move this file to ...
	* module/x86/op_apic.c:
	* module/x86/op_nmi.c:
	* module/x86/op_syscalls.c:
	* module/x86/oprofile_nmi.S:
	* module/x86/op_fixmap.c: these new files
	* module/x86/op_apic.c: x86 stuff
	* module/x86/arch.mak: specific arch makefile fragment
	* module/op_init.c: move cpu detection code ...
	* module/x86/cpu_type.c: here
	* module/Makefile: handle arch sub-dir
	* module/x86/.cvsignore: new
	* module/oprofile.h: declare the interface to the
	  architecture dependant code

	* Makefile.in:
	* configure.in: handle module/arch
	* make.common.in: avoid -Werror with gcc 2.91
	* make.deps: small tweak allowing to use it in module

2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: use CXXINCLUDES not CXXFLAGS
	for including sstream
 
	* make.common.in: remove duplicate -g -O2
 
	* include/sstream: fix compiler warning to
	  allow -Werror
 
	* libutil/op_file.c:
	* libutil/op_fileio.h:
	* libutil/op_fileio.c: more API fixage

	* libutil++/file_manip.cpp: add missing header
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* make.common.in: enable -Werror for CVS builds
	(not in module/)
 
	* dae/opd_image.c:
	* dae/oprofiled.c:
	* libutil/op_deviceio.h:
	* libutil/op_deviceio.c: API fixes

	* libutil++/file_manip.h:
	* libutil++/file_manip.cpp: 
	* libutil++/op_bfd.h:
	* libutil++/op_bfd.cpp:
	* pp/op_time.cpp:
	* pp/oprofpp.cpp: 
	* libutil/op_lockfile.c: 
	* libutil/op_file.h:
	* libutil/op_file.c: add op_file_readable(),
	  API fixes 
 
2002-06-06  John Levon  <moz@compsoc.man.ac.uk>

	* utils/op_stop: fail early if ! root
 
2002-06-05  John Levon  <moz@compsoc.man.ac.uk>

	* pp/*: s/OutputSymbol/output_symbol/,
	  s/OutSymbFlag/outsymbflag/
 
2002-06-05  John Levon  <moz@compsoc.man.ac.uk>

	* pp/op_time_options.cpp:
	* pp/op_time_options.h:
	* pp/op_to_source_options.h:
	* pp/oprofpp_options.h: document

2002-06-05  John Levon  <moz@compsoc.man.ac.uk>

	* pp/Makefile.in:
	* pp/counter_util.h:
	* pp/counter_util.cpp: move from ...

	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: ... here (removed)

	* pp/op_time.cpp:
	* pp/op_time_options.cpp: 
	* pp/op_to_source.cpp: 
	* pp/opp_symbol.h: 
	* pp/oprofpp.cpp:
	* pp/oprofpp_options.h: 
	* pp/oprofpp_options.cpp: 
	* pp/samples_container.h: 
	* pp/samples_container.cpp: 
	* pp/samples_file.h:
	* pp/samples_file.cpp: changes from above

2002-06-05  John Levon  <moz@compsoc.man.ac.uk>

	* libutil++/file_manip.h:
	* libutil++/file_manip.cpp: move oprofile specific stuff
	  to ...
 
	* libop++/op_mangling.h:
	* libop++/op_mangling.cpp: ... here

	* pp/Makefile.in:
	* pp/op_bfd.h:
	* pp/op_bfd.cpp: move to ...
 
	* libutil++/Makefile.in:
	* libutil++/op_bfd.h:
	* libutil++/op_bfd.cpp: ... here 
 
	* libutil++/verbose_ostream.h: add
 
	* pp/op_merge.cpp:
	* pp/op_time.cpp: 
	* pp/op_time_options.h:
	* pp/op_time_options.cpp:
	* pp/op_to_source.cpp: 
	* pp/op_to_source_options.h:
	* pp/op_to_source_options.cpp:
	* pp/oprofpp.h: 
	* pp/oprofpp.cpp: 
	* pp/oprofpp_options.h:
	* pp/oprofpp_options.cpp:
	* pp/oprofpp_util.cpp:
	* pp/samples_file.h: various changes and
	  cleanups from above
 
	* pp/derive_files.cpp: remove now duplicate code
 
2002-06-05  John Levon  <moz@compsoc.man.ac.uk>

	* libutil++/file_manip.h:
	* libutil++/file_manip.cpp: simplify but don't
	  break already absolute paths, remove dead code
 
	* pp/op_time_options.h:
	* pp/op_time_options.cpp:
	* pp/op_time.cpp: remove dead code
 
	* pp/op_to_source_options.h: 
	* pp/op_to_source_options.cpp:
	* pp/oprofpp_options.h:
	* pp/oprofpp_options.cpp: variable name tweaks

	* pp/Makefile.in:
	* pp/op_to_source.cpp: 
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp:
	* pp/derive_files.h:
	* pp/derive_files.cpp: factor command-line file
	  derivation guessing out
 
2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* libop++/op_print_event.cpp:
	* pp/op_bfd.h: 
	* pp/op_time_options.cpp: 
	* pp/op_to_source_options.cpp: 
	* pp/oprofpp_options.cpp: fixes for std
 
	* pp/Makefile.in:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp:
	* pp/samples_file.cpp:
	* pp/opp_symbol.h:
	* pp/counter_array.h:
	* pp/counter_array.cpp: factor out counter_array
 
2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* pp/oprofpp.h:
	* pp/samples_file.cpp:
	* pp/oprofpp_util.cpp: remove a sanity check
	  that wasn't particularly useful
 
2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* libop++/Makefile.in:
	* libop++/op_mangling.h:
	* libop++/op_mangling.cpp:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/oprofpp.cpp: 
	* pp/oprofpp.h: 
	* pp/oprofpp_util.cpp: move mangle/unmangle to libop++
 
2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* pp/Makefile.in:
	* pp/op_to_source.cpp:
	* pp/opp_symbol.cpp:
	* pp/demangle_symbol.h:
	* pp/demangle_symbol.cpp: move this ...
 
	* libutil++/Makefile.in:
	* libutil++/demangle_symbol.h:
	* libutil++/demangle_symbol.cpp: ... to here

2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* make.common.in: 
	* make.deps: split out CXXINCLUDES
 
	* Makefile.in:
	* configure.in:	
	* libop++/Makefile.in:
	* libop++/op_print_event.h:
	* libop++/op_print_event.cpp:
	* pp/Makefile.in:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp:
	* pp/samples_file.cpp: start libop++ library,
	  move op_print_event there

	* pp/op_bfd.h:
	* pp/op_bfd.cpp: 
	* pp/op_time.cpp: 
	* pp/op_to_source.cpp: 
	* pp/oprofpp.cpp: 
	* pp/samples_file.h:
	* pp/samples_file.cpp: remove all knowledge of
	  is_kernel from op_bfd, some minor cleanups
 
2002-06-04  John Levon  <moz@compsoc.man.ac.uk>

	* pp/op_bfd.h:
	* pp/op_bfd.cpp:
	* pp/samples_container.cpp: kill another char*
 
	* pp/outsymbflag.h: reduce fake dependencies with
	  new file, little cleanup

	* pp/Makefile.in:
	* pp/demangle_symbol.cpp:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/op_time_options.h:
	* pp/op_time_options.cpp:
	* pp/op_to_source.cpp:
	* pp/op_to_source_options.h:
	* pp/op_to_source_options.cpp:
	* pp/opp_symbol.h:
	* pp/oprofpp.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp_options.h:
	* pp/oprofpp_options.cpp:
	* pp/oprofpp_util.cpp: Some more refactoring. More work
	  needed...
 
2002-06-01  John Levon  <moz@compsoc.man.ac.uk>

	* doc/Makefile.in: fix DOCDIR (from Al Stone)
 
2002-06-01  John Levon  <moz@compsoc.man.ac.uk>

	* libutil++/file_manip.h:
	* libutil++/file_manip.cpp: clarify API
 
	* pp/oprofpp.cpp: fix bug 563324 resulting from above

2002-06-01  John Levon  <moz@compsoc.man.ac.uk>

	* make.common.in: make --with-extra-lib work again

	* dae/opd_image.h:
	* dae/opd_image.c: comment typos

	* doc/srcdoc/Doxyfile: generate PNG not GIF 
 
2002-05-23  Philippe Elie  <phil.el@wanadoo.fr>

	* doc/srcdoc/Doxyfile:
	* libopt++/popt_options.cpp:
	* libopt++/popt_options.h:
	* pp/symbol_container_impl.h: small doxygen tweak.

2002-05-23  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/oprofiled.c: minor bug when backing up samples dir

	* libopt++/popt_options.h:
	* libopt++/popt_options.cpp: avoid to force client code to
	  explicitly select the option template specializations.

	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/op_to_source.pp:
	* pp/oprofpp.cpp: we no longer need explicit template
	  instantiations for options

2002-05-22  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/oprofpp.cpp: fix a missing SAMPLES_DIR prepend

2002-05-22  John Levon  <moz@compsoc.man.ac.uk>

	* lib/util/op_file.c:
	* utils/op_session.c: restore accidentally lost
	  commits :

	2002-05-05  Philippe Elie  <phil.el@wanadoo.fr>

		* dae/op_session.c: tweak error message when session already
		  exist. Avoid to op_dump when profiler is not started.

	2002-05-05  Philippe Elie  <phil.el@wanadoo.fr>

		* dae/op_session.c: do not create empty session directory
		  and backup oprofileg.log too
		* dae/opd_util.c:
		* op_user.h: minor related change

2002-05-22  John Levon  <moz@compsoc.man.ac.uk>

	* dae/*: complete re-organisation of files
 
	* libop/op_config.h: add VMA_OFFSET and MAX_MODULES
	  tunables
 
2002-05-22  Philippe Elie  <phil.el@wanadoo.fr>

	* gui:
	* libdb:
	* libopt++:
	* libutil:
	* libutil++:
	* oprof_report:
	* pp: all C/c++ source/header file, fix a few doxygen warning,
	  many const type to  type const + other minor comestic change.

2002-05-22  John Levon  <moz@compsoc.man.ac.uk>

	* libopt++/popt_options.cpp: my usual boring shit
 
	* libopt++/popt_options.h: document

	* libutil/op_popt.h: POPT_TABLEEND missing in some popt.h
 
	* TODO: update
 
	* doc/oprofile.xml: add some to ack.html
 
	* libop/op_events_desc.c: fix long-standing typo
 
2002-05-22  Philippe Elie  <phil.el@wanadoo.fr>

	* configure.in:
	* Makefile.in:
	* libopt++/*: new directory, command line options handling
	
	* make.common.in:
	* pp/Makefile.in:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/op_to_source.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: use libpopt++

2002-05-19  Philippe Elie  <phil.el@wanadoo.fr>

	* TODO: update

2002-05-19  John Levon  <moz@compsoc.man.ac.uk>

	* pp/op_bfd.cpp: fix bug coming from mis-placed
	strlen() brackets
 
	* pp/op_bfd.h:
	* pp/op_bfd.cpp: kill some more char[]s to avoid silly
	  bugs like the above
 
	* README: some minor change
 
2002-05-18  Philippe Elie  <phil.el@wanadoo.fr>

	* module/compat.h:
	* module/op_fixmap.c:
	* module/op_syscalls.c:
	* module/oprofile.c:
	* module/oprofile.h:
	* module/oprofile_nmi.S: fix module up to kernel 2.5.15

	* module/compat22.h: small fix for 2.2

2002-05-17  Philippe Elie  <phil.el@wanadoo.fr>

	* module/op_fixmap.c: revert my last change :/. Something is
	  wrong with oprofiel and 2.5.15 but elsewhere

2002-05-17  Philippe Elie  <phil.el@wanadoo.fr>

	* module/op_fixmap.c: fix a long time outstanding bug,
	  we tested bit in the address of x86_capability
	  rather the capability itself.

2002-05-17  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.c: from a typo in opd_put_image_samples first
	  incoming samples for each image was always ignored. As
	  a side effect if opd_open_sample_file() fail the daemon
	  will die with a seg fault. This behavior is in 0.2 release.
	  fix #556918

2002-05-17  John Levon  <moz@compsoc.man.ac.uk>

	* utils/op_start: typo in detect stale lock file

2002-05-17  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/*: gcc 3.1 compilation.

2002-05-16  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.c: close samples files at cleanup

	* libdb/db-insert.cpp: if we don't lock the file when creating
	  the root we must ensure than initialization is atomic

	* pp/op_bfd.cpp:
	* pp/op_bfd.h:
	* pp/op_time.cpp:
	* pp/op_to_source.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp:
	* pp/samples_file.cpp:
	* pp/samples_file.h: move all coherency check between a op_bfd and
	  it's related opp_samples_files outside these class

	* pp/samples_container.cpp: small modification allowing to privatize
	  op_bfd::ibfd pointer.

2002-05-16  John Levon  <moz@compsoc.man.ac.uk>

	* libutil/op_lockfile.c: detect and remove stale
	  lock files

	* utils/op_start: detect stale lock file
 
2002-05-15  John Levon  <moz@compsoc.man.ac.uk>

	* pp/Makefile.in:
	* pp/op_time.cpp:
	* pp/op_to_source.cpp:
	* pp/oprofpp.cpp:
	* pp/samples_container.h:
	* pp/samples_container.cpp:
	* pp/sample_container_imp.h:
	* pp/sample_container_imp.cpp:
	* pp/symbol_container_imp.h:
	* pp/symbol_container_imp.cpp:
	* pp/symbol_functors.h: some more file-refactoring, and some
	  minor changes
 
2002-05-15  John Levon  <moz@compsoc.man.ac.uk>

	* pp/oprofpp.cpp: only allow -r with -l
	* doc/oprofile.1.in: document -r for oprofpp
 
2002-05-15  Will Cohen  <wcohen@nc.rr.com>
 
	* pp/oprofpp.cpp: Added "-r" reverse sort option.

2002-05-15  Philippe Elie  <phil.el@wanadoo.fr>

	* libutil++/utility.h: fix a copyright problem, work-around
	  a (probable) gcc 2.91 bug.

	* pp/op_bfd.cpp: valgrind exposed a delete problem.

	* pp/op_time.cpp:
	* pp/op_to_source.cpp:
	* pp/oprofpp.cpp:
	* pp/samples_container.cpp:
	* pp/samples_container.h:
	* pp/samples_container.cpp:
	* pp/samples_container.h: change the handling of shared lib,
	  we no longer allow samples_container_t to auto load related
	  samples files belonging to a shared lib but we create at a higher
	  level an explicit list of samples files : fix #555276

	* pp/op_to_source.cpp:
	* pp/sample_container.cpp:
	* pp/opp_symbol.cpp: demangle symbol only when we output
	  symbol name, not when we store symbol name in internal
	  representation of symbol.

2002-05-14  Cliff Woolley  <jwoolley@apache.org>

	* gui/oprof_start.cpp: allow Qt3 compilation

2002-05-13  Philippe Elie  <phil.el@wanadoo.fr>

	* doc/oprofile.xml: clarify RTC use, fix #555302

	* gui/oprof_start_util.cpp: missing closedir(). Fix #555268
	  Thanks to William Cohen for his precise report.

	* module/Makefile.in: fix #555304, a non-native compiler can
	  fail to compile oprofile

	* libutil++/utility.h: class noncopyable
	* pp/samples_file.h: use it

2002-05-12  Philippe Elie  <phil.el@wanadoo.fr>

	* libop/op_events_desc.c:
	* libop/op_events_desc.h:

	* pp/op_bfd.h:
	* pp/op_bfd.cpp:
	* pp/op_to_source.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp_util.cpp:
	* pp/samples_file.cpp:
	* pp/samples_file.h:
	* pp/samplesfile.h: fix some FIXME

2002-05-12  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.c: delete lockfile on SIGTERM
 
	* pp/samples_file.h:
	* pp/samples_file.cpp: minor changes

2002-05-11  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/op_bfd.cpp:
	* pp/op_bfd.h: ehance op_bfd_symbol ...
	* pp/oprofpp.cpp:
	* pp/samples_container.cpp: move handling of image w/o symbol
	  in op_bfd

	* pp/samples_file.h: ehance comment (John's work)

2002-05-11  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/op_bfd.cpp:
	* pp/op_bfd.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/samples_files.cpp: minor cleanup

2002-05-10  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/op_bfd.h:
	* pp/op_bfd.cpp:
	* pp/opp_symbol.h:
	* pp/opp_symbol.cpp:
	* pp/oprofpp.cpp:
	* pp/samples_container.h:
	* pp/samples_container.cpp: more typedef for indexed things

2002-05-10  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/*: split oprofpp_util.cpp, oprofpp.h to these ..
	* pp/samples_file.cpp: new file
	* pp/samples_file.h: new file
	* pp/op_bfd.cpp: new file
	* pp/opbfd.h: new file

	* pp/*: add a symbol_index_t typedef

2002-05-10  Philippe Elie  <phil.el@wanadoo.fr>

	* doc/srcdoc/Makefile: always clean before building
	* doc/srcdoc/Doxyfile: ehance file filtering

	* pp/oprofpp.h: small typo fix

2002-05-10  Philippe Elie  <phil.el@wanadoo.fr>	

	* pp/oprofpp.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp_util.cpp:
	* pp/samples_container.cpp: generalize infrastucture for symbol
	  vma/size

	* pp/op_time.cpp: allow to exclude symbol with op_time -l

2002-05-09  John Levon  <moz@compsoc.man.ac.uk>

	* doc/xhtml-chunk.xsl:
	* doc/xhtml-common.xsl:
	* doc/xhtml.xsl:
	* doc/Makefile.in: some small improvements
 
	* doc/src/doc/Doyxfile: add FIXME

	* gui/oprof_start.cpp:
	* libop/op_events_desc.h:
	* libop/op_events_desc.c:
	* libutil/filename_match.h: 
	* oprof_report/oprofpp_view.h: 
	* pp/op_time.cpp: 
	* pp/opp_symbol.h:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp:
	* pp/samples_container.cpp: 
	* pp/samples_container.h: more doxygen etc. fixes
 
2002-05-08  Philippe Elie  <phil.el@wanadoo.fr>

	* TODO: update

	* pp/op_symbol.cpp: better column handling with oprofpp -L

2002-05-08  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/Makefile.in:
	* gui/Makefile.in:
	* pp/Makefile.in:
	* utils/Makefile.in: fix make uninstall

2002-05-08  Philippe Elie  <phil.el@wanadoo.fr>
	
	* pp/opf_filter.cpp: move to ...
	* pp/op_to_source.cpp:
	* pp/opf_container.cpp: move to ..
	* pp/samples_container.cpp:
	* pp/opf_filter.h: move to ...
	* pp/samples_container.h:
	* pp/Makefile.in:
	* pp/.cvsignore: update

	* oprof_report/hotspotview.cpp:
	* oprof_report/hotspotview.h:
	* oprof_report/op_view.h:
	* oprof_report/oprof_report.cpp:
	* oprof_report/oprof_report.h:
	* oprof_report/oprof_view.cpp:
	* oprof_report/oprof_view.h:
	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/opf_filter.h:
	* pp/opp_symbol.cpp:
	* pp/opp_symbol.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h: samples_files_t -> samples_container_t

	* ui/.cvsignore: update

	* pp/opf_filter.cpp: move filename_match ...
	* libutil++/filename_match.cpp: here
	* libutil++/filename_match.cpp:
	* libutil++/Makefile.in:

	* pp/Makefile.in: fix typo that prevent op_to_source
	  to be recompiled

2002-05-08  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* doc/Makefile.in: make clean delete *.html
 
	* libdb/db-debug.c: pedantry
 
	* libutil/op_fileio.h:
	* libutil/op_fileio.c:
	* pp/oprofpp.cpp: remove unused code and change
	  function names
 
2002-05-08  Philippe Elie  <phil.el@wanadoo.fr>

	* libutil/op_libiberty.h: fix compile error (missing
	  size_t definition)

2002-05-08  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.in: missing backslash
 
2002-05-07  John Levon  <moz@compsoc.man.ac.uk>

	* <various>: OK I lied. Fix some doxygen warnings,
	  and some char const *a -> const char * a
 
	* doc/srcdoc/Makefile: add
 
2002-05-07  John Levon  <moz@compsoc.man.ac.uk>

	* <all>: ok, fix the headers properly. Last tedious
	  patch, I promise.
 
	* dae/opd_util.h: finally remove !
 
2002-05-06  John Levon  <moz@compsoc.man.ac.uk>

	* <various>: move to new header style, doxygen
	  should use @param blah not @blah: or \param blah 

	* doc/srcdoc/Doxyfile: new file for api docs

	* scripts/Doxyfile:
	* scripts/dodoc: remove
 
2002-05-06  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: don't add KINC to BKCFLAGS directly
 
	* module/Makefile.in: re-write
 
	* TODO: update
 
2002-05-06  John Levon  <moz@compsoc.man.ac.uk>

	Massive re-organisation of code + build. Most
	files have been changed. Some small cosmetic
	changes.
 
	* libutil/:
	* libutil++/: general-purpose utility libs

	* libop/: oprofile-specific utility lib

	* utils/: moved op_start et al to this dir

	* events/:
	* util/: removed

	* libutil++/child_reader.cpp: make sure to set
	  member "pid", not local variable

2002-05-05  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/op_session.c: tweak error message when session already
	  exist. Avoid to op_dump when profiler is not started.

2002-05-05  Philippe Elie  <phil.el@wanadoo.fr>

	* TODO: update:

	* dae/op_session.c: do not create empty session directory
	  and backup oprofileg.log too
	* dae/opd_util.c:
	* op_user.h: minor related change

2002-05-05  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.xml: update copyright for 2002

	* doc/xsl/xhtml-chunk.xsl: indent=yes
 
2002-05-05  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
	
	* Makefile.in: update my release steps
 
2002-05-05  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: ->0.3cvs

	* results/: hmm, remove /all/ the files 
 
2002-05-04  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: bump to 0.2
 
2002-05-04  William Cohen  <wcohen@nc.rr.com>

	* doc/oprofile.xml: add note on power management
 
2002-05-03  John Levon  <moz@compsoc.man.ac.uk>

	* doc/Makefile.in:
	* doc/xsl/xhtml-common.xsl:
	* doc/xsl/xhtml.xsl:
	* doc/xsl/xhtml-chunk.xsl: use some xsl to fix
	  some of the problems (not all :()
 
2002-05-02  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
2002-05-02  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_session.c: couple of improvements
 
	* dae/opd_util.c: fix warning

	* doc/oprofile.xml: some docs on op_session

	* pp/op_time.cpp: introduce -s parameter (should be
	  in all utils)
 
2002-05-02  John Levon  <moz@compsoc.man.ac.uk>

	* oprof_report/Makefile.in: disable for release
 
2002-05-02  John Levon  <moz@compsoc.man.ac.uk>

	* results/: nuke this in favour of oprofile-tests
	  module
 
2002-05-02  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* op_user.h:
	* dae/op_start: 
	* dae/op_stop: 
	* dae/opd_util.h:
	* dae/opd_util.c: 
	* dae/oprofiled.c: 
	* dae/oprofiled.h: 
	* doc/oprofile.1.in:
	* doc/oprofile.xml: 
	* gui/oprof_start.h:
	* gui/oprof_start.cpp:
	* gui/oprof_start_config.h:
	* gui/oprof_start_config.cpp:
	* gui/ui/oprof_start_base.ui: 
	* oprof_report/oprof_report.cpp: 
	* pp/op_merge.cpp: 
	* pp/op_time.cpp: 
	* pp/opf_filter.cpp: 
	* pp/oprofpp.cpp: 
	* pp/oprofpp.h: 
	* pp/oprofpp_util.cpp: remove useless command line
	  options in anticipation of the new spec
	 
	* libdb/db-manage.c: reset base_memory and fd
	  on close
 
	* dae/.cvsignore: 
	* dae/Makefile.in:
	* dae/op_session.c:
	* dae/opd_proc.c: 
	* dae/opd_proc.h:
	* dae/oprofiled.h:
	* dae/oprofiled.c: use lock file for daemon.
	  Implement named sessions
 
2002-05-02  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/oprofpp.cpp:
	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: fix sect_offset problem. now all
	  class work on vma except samples_file_t which offset vma
	  to samples files offset

2002-05-01  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_proc.c:
	* libdb/db-manage.c:
	* libdb/db-test.c:
	* libdb/db.h:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/oprofpp_util.cpp: allow read-only sample
	  file reading
	
	* oprof_report/hotspot_view.cpp: fix warning
 
2002-05-01  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_start:
	* dae/oprofiled.c:
	* doc/oprofile.1.in: 
	* doc/oprofile.xml: 
	* gui/oprof_start.cpp: 
	* module/op_nmi.c:
	* module/op_rtc.c:
	* module/op_syscalls.c: 
	* module/oprofile.h:
	* module/oprofile.c: move pid/pgrp filter into
	  userspace only. Remove --ignore-myself
 
2002-04-30  John Levon  <moz@compsoc.man.ac.uk>

	* op_user.h:
	* dae/opd_proc.c:
	* pp/oprofpp_util.cpp: first part of removing
	  OPD_KERNEL_OFFSET

2002-04-30  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_nmi.c: also allow user to see 0/ 1/ contents
 
2002-04-30  William Cohen  <wcohen@nc.rr.com>

	* module/oprofile.c: Allow non-root examination of
	  /proc/sys/dev/oprofile and initiation of dump. 

	* dae/op_dump: modify message for above

2002-04-30  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* libdb/Makefile: remove from CVS
 
	* dae/oprofiled.c:
	* module/oprofile.c: 
	* module/oprofile.h: use better hash function.
	  Fold unused/full entry case into eviction case
	  for faster common path
 
2002-04-27  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: fix little blooper that shows up
	  when CONFIG_M386 is chosen
 
2002-04-23  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/oprofpp.cpp:
	* pp/oprofpp_util.cpp: yet another bug fix for --sort=
	  and counter nr command line specification ...

2002-04-22  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.c: opd_alarm() flush properly samples files

	* oprof_report/oprof_report.cpp: use the right filename
	  when selecting a shared lib profiled with --separate-samples

2002-04-22  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/op_merge.c: implement merging of the new file format files.

2002-04-21  Philippe Elie  <phil.el@wanadoo.fr>

	* oprof_report/Makefile.in:
	* oprof_report/oprof_report.cpp: use db

2002-04-20  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.c: OPD_KERNEL_OFFSET thing
	* pp/oprofpp_util.cpp:

2002-04-20  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.c: minor warning suppression

	* pp/Makefile.in:
	* pp/oprofpp.cpp:
	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/oprofpp.h: handle the new db file format, this stuff is
	  not yet extensively tested

	* pp/op_merge.c: not already updated, exit at run time
	  with an error message

2002-04-19  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/opd_proc.h:
	* dae/oprofiled.h: enable db samples file format

2002-04-19  Philippe Elie  <phil.el@wanadoo.fr>

	* libdb/*: initial import from oprofile-tests module
	  note than this direcroty have it's own ChangeLog file
	* dae/Makefile.in: use libdb.a
	* dae/opd_util.h: use db.h. These change do not yet enable
	  the db samples files format.

2002-04-16  John Levon  <moz@compsoc.man.ac.uk>

	* TODO:
	* doc/oprofile.xml:
	* pp/oprof_convert.c:
	* util/misc.h:
	* util/misc.c:
	* util/file_manip.h:
	* pp/Makefile.in: kill oprof_convert
	 
2002-04-16  John Levon  <moz@compsoc.man.ac.uk>

	* pp/opf_container.cpp:
	* pp/oprofpp.h:
	* pp/demangle_symbol.h:
	* pp/demangle_symbol.cpp:
	* pp/Makefile.in: move demangle_symbol into own
	  file
 
	* TODO: update some...
 
2002-04-11  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/opf_filter.cpp: fix a memory leak uncovered
	  by valgrind <http://developer.kde.org/~sewardj>

2002-04-09  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/oprofiled.h: move definition of linked list to ...
	* dae/opd_list.h: this new file
	
	* dae/opd_proc.c: iterate on opened sample file
	  rather on image list to sync mmap'ed file

2002-04-07  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/oprofpp.h:
	* oprof_report/oprof_report.cpp:
	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/oprofpp_util.cpp:
	* pp/oprofpp.cpp: use samples_file_t as internal implementation
	  of opp_samples_files. Now all samples files read are made
	  through samples_file_t object.

2002-04-04  Philippe Elie  <phil.el@wanadoo.fr>

	* dae/op_start: fix bash1 detection

	* doc/Makefile.in: fix install target

2002-03-25  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: some preliminary stuff for NGPT

	* TODO: update

	* doc/Makefile.in:
	* doc/oprofile.sgml:
	* doc/oprofile.xml: move to DocBook/XML

	* doc/oprofile.xml: document Bash 2 dependency
 
	* dae/op_start: fix for /bin/bash being bash v1 - untested
 
2002-04-02  Philippe Elie  <phil.el@wanadoo.fr>

	* pp/oprofpp.cpp:
	* pp/oprofp_util.cpp: debug and use opp_bfd::symbol_size()

2002-03-30  Philippe Elie  <phil.el@wanadoo.fr>

	* ChangeLog: change my email address

2002-03-22  Philippe Elie  <ph_e@club-internet.fr>

	* dae/op_start: default buffer size to zero and let module
	  override the default.

	* module/op_rtc.c:
	* module/oprofile.h:
	* op_user.h:
	* gui/oprof_start.cpp:
	* gui/oprof_start_config.cpp:
	* gui/oprof_start_config.h: an another coherency fix, unhopefully
	  this bug fix does not fix the configuration file (see # )

	* pp/oprofpp.cpp: for gprof dump do not print events settings

	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: prepare using symbol size

2002-03-21  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_filter.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp_util.cpp: factorize event settings output
	* pp/oprofpp.h: ditto + do_list_xxx/do_dump_gprof : static
	  free function rather than member function.

2002-03-21  Philippe Elie  <ph_e@club-internet.fr>

	* op_user.h:
	* pp/oprofpp.h: more doxygen comments

	* dae/opd_kernel.c:
	* dae/opd_proc.c:
	* dae/opd_util.c:
	* dae/oprofiled.c:
	* gui/oprof_start.cpp:
	* gui/oprof_start_util.cpp: exit(): use {EXIT_FAILURE|EXIT_SUCCESS}

2002-03-20  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_filter.h: simplify slightly interface of samples_files_t
	* oprof_report/oprof_report.cpp:
	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/oprofp.cpp: reflect the new interface.

	* pp/opp_symbol.cpp: ParseOutputOption --> static member of
	  OutputSymbol ...

	* pp/opp_symbol.h:
	* util/file_manip.h:
	* util/string_manip.h: doxygen comments

2002-03-19  Philippe Elie  <ph_e@club-internet.fr>

	* scripts/Doxyfile: small tweak
	* op_user.h:
	* pp/opp_symbol.h:
	* pp/oprofpp.h:
	* util/child_reader.h: doxygen comments.

2002-03-19  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_filter.h:
	* pp/opf_container.cpp: remove delegation
	  {symbol|samples}_container_t -> xxx_impl, no functionnal change

	* pp/*: start a more serious doxygenization. first step
	  include fixing prototype and a client documentation for
 	  opp_bfd
	* script/Doxyfile: doxygen script for pp/*.h, util/*.h
	
2002-03-19  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_fixmap.c: include pagemap.h, so
	we pick up highmem.h, which is needed with
	some kernels (missing kmap_pagetable define
	via pte_offset)

2002-03-18  Philippe Elie  <ph_e@club-internet.fr>

	* pp/op_time.cpp:
	* doc/oprofile1.1.in:
	* doc/oprofile.sgml: allow reverse sort in all case

	* pp/opp_symbol.h:
	* pp/opp_symbol.cpp: remove unnecessary cast

	* oprof_report/oprof_report.cpp:
	* oprof_report/oprof_report.h:
	* oprof_report/*_view.*: revert partially 2002-03-17 patch,
	  making again data change notification in two step.

2002-03-17  John Levon  <moz@compsoc.man.ac.uk>

	* pp/oprofpp_util.cpp: clarify binutils bug workaround
 
2002-03-17  Philippe Elie  <ph_e@club-internet.fr>

	* oprof_report/op_view.h:
	* oprof_report/hostpost_view.cpp:
	* oprof_report/hostpost_view.h:
	* oprof_report/oprof_report.cpp:
	* oprof_report/oprof_report.h:
	* oprof_report/oprof_view.cpp:
	* oprof_report/oprof_view.h: simplify virtual interface +
	  minor graphic bug fix

2002-03-16  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* oprof_report/hotspot_view.cpp: new
	* oprof_report/hotspot_view.h: new HotspotView class
	* oprof_report/oprof_report.cpp:
	* oprof_report/oprof_report.h:  use HotspotView
	* oprof_report/Makefile.in: reflect above

	* pp/op_time.cpp: small tidy

2002-03-15  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* dae/oprofiled.c: fix --version when module is not loaded

	* pp/opp_symbol.cpp:
	* pp/opp_symbol.h: avoid to padd the last field, use a positive
	  form for osf_header

	* pp/oprofpp.h:
	* pp/oprofpp.cpp:
	* pp/opf_filter.cpp:
	* pp/opprofpp_util.cpp:
	* pp/op_time.cpp: fix --sort option

2002-03-14  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* pp/op_time.cpp:
	* pp/opf_filter.cpp:
	* pp/opp_symbol.cpp:
	* pp/oprofpp_.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: handle -c0,1 and --sort #nr_ctr
	  for all post-profile tools allowing a more precise way
	  to specify on which counters tools must work

2002-03-13  Philippe Elie  <ph_e@club-internet.fr>

	* pp/oprofpp_util.cpp: get_linenr() better handling
	  of bfd_find_nearest_line. Fix #529622

	* pp/opf_container.cpp: simplify symbol_container_impl

	* pp/opp_symbol.cpp: use ostringstream only when necessary

2002-03-09  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: some laptops have a usable local APIC
 
2002-03-09  Philippe Elie  <ph_e@club-internet.fr>

	* oprof_report: new directory, oprofpp/op_time like GUI
	* oprof_report/op_view.h: base class for view
	* oprof_report/oprof_report_main.cpp:
	* oprof_report/oprof_report.h:
	* oprof_report/oprof_report.cpp: main class
	* oprof_report/oprofpp_view.h:
	* oprof_report/oprofpp_view.cpp: oproffp like view
	* oprof_report/Makefile.in:
	* oprof_report/ui/oprof_report.base.ui: oprof_report UI
	* oprof_report/ui/Makefile.in:

	* Makefile.in:
	* configure.in: handle oprof_report

	* ui/Makefile.in: clarify how dependencies work

2002-03-08  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: bump to 0.2cvs

	* TODO: update
 
2002-03-07  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_container.cpp: handle osf_short_linr_info
	* pp/opp_symbol.cpp: tweak output output when
	  linenr/filename is not available

2002-03-07  John Levon  <moz@compsoc.man.ac.uk>

	* util/Makefile.in: remove -pedantic (Phil don't you
	  read comments ? ;)
 
2002-03-07  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* pp/: use "invalid" not "illegal"
 
2002-03-06  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
2002-03-06  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opfropp_util.cpp: more specific error messages

	* doc/oprofile.sgml: clarify problem about sparse
	  samples files and filesystem.

	* util/file_manip.h:
	* util/file_manip.cpp: create_file_list() allow recursive
	  file list creation.
	* pp/op_time.cpp: add option -p/-P to allow specifying
	  alternate path name where to search for image name
	* doc/oprofile.1.in:
	* doc/oprofile.sgml: update option for op_time

2002-03-05  Philippe Elie  <ph_e@club-internet.fr>

	* pp/oprofpp_util.cpp: remove multiple symbols belonging
	  to the same vma (Fix #526098)
	  Accept also all symbol types, we filter them by name.

2002-03-04  Philippe Elie  <ph_e@club-internet.fr>

	* util/misc.h: minor comment fix

	* pp/oprofpp_util.cpp: tweak the last commit

2002-03-04  John Levon  <moz@compsoc.man.ac.uk>

	* pp/oprofpp_util.cpp: welcome in the local symbols ...
 
2002-03-03  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_filter.h:
	* pp/opf_container.cpp: samples_files_t::add() add an hint
	  parameter on what information will needed.
	* pp/op_time.cpp:
	* pp/oprofpp.cpp:
	* pp/opf_filter.cpp: use it
	
	* pp/op_time.cpp: when a samples files for one counter
	  does not exist avoid to load it (op_time -l) fix #525237

2002-03-02  Philippe Elie  <ph_e@club-internet.fr>

	* pp/Makefile.in: add -pedantic to CXXFLAGS
	* pp/oprofpp.h: replace macro verpbrintf with a function
	* pp/oprofpp_util.cpp: implement it
	* pp/opp_symbol.h:
	* pp/op_time.cpp: fix pedantic warning

	* pp/opevents.cpp:
	* op_user.h: op_get_cpu_nr_counters() new

	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.cpp:
	* pp/opf_filter.h:
	* pp/opp_symbol.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp_util.cpp: remove global var op_nr_counters

2002-03-02  Philippe Elie  <ph_e@club-internet.fr>

	* module/op_syscalls.c: do not pre-allocate some dname
	  hash map entry for common pathname but pre alloc entry
	  zero to reserve it

	* pp/op_time.cpp: add image name to the default output format

	* module/compat22.h: move cacheline_aligned macro to ...
	* module/op_cache.h: this new file
	* module/compat.h: use it
	* module/compat22.h:
	* module/oprofile.c: replace some __cacheline_aligned by
	  __cacheline_aligned_in_smp

2002-03-01  Philippe Elie  <ph_e@club-internet.fr>

	* dae/opd_kernel.c:
	* dae/opd_proc.c: simplify handling of kernel samples

	* pp/opt_time.cpp:
	* pp/opp_symbol.cpp:
	* pp/opp_symbol.h:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h: tidy, gives a negative form to header output
	  format

	* version.h.in: new macro show_version() to output version
	* doc/oprofile.sgml: document it
	* dae/oprofiled.c:
	* events/op_help.c:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/opf_filter.cpp:
	* pp/oprofpp.cpp: use it

2002-03-01  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* module/oprofile.c:
	* module/op_syscalls.c: merge note/map lock 
 
2002-02-27  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: upadte

	* doc/oprofile.1.in:
	* doc/oprofile.sgml:
	* pp/opp_symbol.h:
	* pp/opp_symbol.cpp:
	* pp/oprofpp.cpp: use columned output for oprofpp -L, -s

	* pp/oprofpp.cpp: command-line counter specification
	  was broken by my last patch
	* pp/opf_filter.cpp: ditto but bug comes from the far past

2002-02-26  Philippe Elie  <ph_e@club-internet.fr>

	* pp/op_merge.cpp: small tidy

	* pp/op_time.cpp:
	* pp/opf_container.cpp:
	* pp/opf_filter.h:
	* pp/opf_filter.cpp:
	* pp/oprofpp.cpp:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: remove the nasty global var int ctr;
	  pass it as parameter to each relevant function using it.

	* module/compat.h: support for 2.5.5. 2.4.18 also tested

	* pp/opp_symbol.h:
	* pp/opp_symbol.cpp: new, mainly for implementing --output-format
	* pp/op_time.cpp:
	* pp/oprofpp.cpp: use output format stuff
	* pp/Makefile.in: reflect above change
	* doc/oprofile.1.in:
	* doc/oprofile.sgml: document --output-format

2002-02-13  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* module/compat22.h:
	* module/compat24.h:
	* module/oprofile_nmi.S: small tidy

	* module/op_apic.c:
	* module/op_fixmap.c:
	* module/op_nmi.c:
	* module/oprofile.h: avoid memory leak of apic mapping

2002-02-12  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* pp/oprofpp_util.cpp: use stable sort and correct the comparison
	  function on symbol vma
	* pp/opf_filter.cpp: remove a boring new line in output

	* module/makefile.in: optimize for 686 but do not use any specific
	  686 insn.

	* configure.in: check against CONFIG_PREEMPT

2002-02-10  John Levon  <moz@compsoc.man.ac.uk>

	* events/op_events_desc.c: remove dead code
 
	* module/compat.h: RedHat backported MODULE_LICENSE()
 
	* module/op_syscalls.c:
	* module/op_util.c: remove FIXMEs
 
2002-02-09  Bob Montgomery  <bobm@fc.hp.com>

	* module/op_rtc.c: right actual RTC value back

	* doc/oprofile.sgml: document that

2002-02-09  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_init.c: set rtc cpu type directly
 
2002-02-08  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* module/oprofile_nmi.S: cut and copy from oprofile_nmi24.s
	* module/oprofile_nmi22.S: remove
	* module/oprofile_nmi22.S: remove
	* module/Makefile.in: reflect them

	* pp/opf_filter.cpp: do not print unit mask for RTC cpu type

	* doc/oprofile.sgml: document post-profile tools commons options

2002-02-05  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update mainly by moving things to 0.1

	* pp/opf_filter.h:
	* pp/opf_container.cpp: small cleanup + minor tweak to get
	  more reliable sort order on filename.

2002-02-05  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_filter.h: declare create_artificial_symbol()
	* pp/oprofpp_util.cpp: show how elf symbols size could
	  be handled.

	* pp/oprofpp_util.cpp: add BSF_GLOBAL symbols to
	  symbols of interest.

2002-02-04  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: add [un]lock_sysctl
 
2002-02-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.h:
	* dae/oprofiled.c:
	* dae/opd_proc.c: free stuff on shutdown (to
	  clean dmalloc reports)
 
2002-02-03  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: bump to 0.1

	* TODO: update
 
2002-02-02  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: bump to 0.0.9
 
2002-02-02  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_nmi.c: fix stupid bug spotted by Bob
	  Montgomery
 
2002-02-01  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: define REMAP_PAGE_RANGE
	* module/op_syscalls.c: use it (2.5.3 support)

2002-01-30  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h:
	* module/op_nmi.c: re-add explicit constant for all MSR_
	  constants.

2002-01-30  Philippe Elie  <ph_e@club-internet.fr>

	* configure.in:
	* doc/oprofile.sgml:
	* module/compat22.h: remove support for kernel version
	  prior to 2.2.11

	* module/op_fixmap.c:
	* module/compat.h: small cleanup

	* module/oprofile.c: avoid multi-line literal string

	* pp/oprofpp_util.cpp: better to get_symbols() ;)

2002-01-29  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_fixmap.c: remap fake mapping on 2.2 as well
	  when necessary
 
2002-01-27  Philippe Elie  <ph_e@club-internet.fr>

	* module/Makefile.in: sorry, -Werror is only usefull
	  for test.

	* doc/oprofile.1.in: a few words about op_stop

	* module/compat.h:
	* module/compat22.h:
	* module/compat24.h: change pte_page_address definition
	  for 2.2.20

	* pp/opf_container.cpp: no warning when creating artificial symbols
	* pp/oprofpp_tuil.cpp: no warning for image without symbols

2002-01-27  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start.cpp:
	* pp/op_merge.cpp:
	* pp/op_time.cpp:
	* pp/opf_container.cpp: std namespace fixes.
 
2002-01-27  John Levon  <moz@compsoc.man.ac.uk>

	* pp/op_time.cpp: small hacky output cleanup
 
2002-01-27  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* dae/opd_proc.c: small cleanup

	* doc/opf_container.cpp: handle image without symbols

	* doc/oprofile.1.in:
	* doc/oprofile.sgml:
	* doc/op_time.cpp: implement and document --demangle
	  and --show-image-name

	* pp/oprofpp_util.cpp: add using elf symbols size but
	  disable it

2002-01-26  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/opd_proc.c: tiny clean

	* doc/oprofile.sgml: spell fix
 
2002-01-26  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* pp/op_merge.c: remove FIXME
	* pp/op_time.cpp: minor fix
	
	* pp/opf_filter.h:
	* pp/opf_filter.cpp:
	* pp/oprofpp.cpp:
	* pp/opf_container.cpp: Show more clearly than
	  samples_files_t support adding any number of samples
	  files to the underlined container.

2002-01-26  Philippe Elie  <ph_e@club-internet.fr>

	* pp/oprofpp_util.cpp: allow to load image without symbols

	* pp/Makefile.in:
	* pp/op_time: implement -l option that show symbols details.
	  Currently with separate-samples files symbols are showed
	  more than one time. This is a bug rather a feature.
	* doc/oprofile.1.in:
	* doc/oprofile.sgml: document op_time -l

	* dae/opd_proc.c: bug fix from last change

2002-01-25  John Levon  <moz@compsoc.man.ac.uk>

	* TODO:
	* dae/opd_proc.c: search maps in reverse order so we prefer
	  newer mappings.
 
2002-01-25  Philippe Elie  <ph_e@club-internet.fr>

	* pp/op_merge.cpp: minor fix + comment
	* pp/op_time.cpp: comment, use samples_file_t
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: minor change

2002-01-24  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_proc.c: remove stale comment

	* TODO: update

	* module/compat.h:
	* module/compat22.h:
	* module/compat24.h: fix for pte_page on 2.2.20+
 
2002-01-24  Philippe Elie  <ph_e@club-internet.fr>

	* op_merge.cpp:
	* oprofpp.h:
	* oprofpp_util.cpp: code move + cleanup

2002-01-23  Philippe Elie  <ph_e@club-internet.fr>

	* util/shared_ptr.h: a templatized shared pointer.

	* pp/op_merge.c: new to merge samples files
	* pp/Makefile.in:
	* pp/opf_filter.cpp:
	* pp/opf_filter.h:
	* pp/oprofpp.h:
	* pp/oprofpp_util.cpp: minor change to add op_merge support

	* doc/Makefile.in:
	* doc/oprofile.1.in:
	* doc/oprofle.smgl: document op_merge

2002-01-22  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in: can only depmod if we run that kernel
 
	* module/op_fixmap.c: deal with no APIC config for
	  2.4.10+
 
2002-01-22  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in:
	* module/oprofile.h:
	* module/oprofile.c:
	* module/op_x86.c:
	* module/op_apic.c:
	* module/op_fixmap.c: split op_x86.c. Various changes to
	  only enable the APIC if it's not, and to remap / map the APIC
	  as is necessary.

	* module/apic_up_compat.h: 
	* module/compat.h:
	* module/compat22.h: clean up V_*() macros

	* module/op_init.c: remove FORCE_RTC
 
2002-01-22  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* dae/opd_proc.c: use remove not unlink
	* gui/oprof_start.cpp: use remove not system("rm xxx")

	* doc/Makefile.in: slightly improvment
	* doc/oprofile.1.in: move --help --version to a common section

2002-01-21  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat22.h: fix missing cli()
 
2002-01-21  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: 
	* module/compat22.h:
	* module/compat24.h: fix NMI wake-up for 2.2 SMP
 
	* module/op_dcache.h: add KERN_ERR
 
	* module/op_x86.c: cleanup a little
 
2002-01-21  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* doc/oprofile.1.in:
	* doc/oprofile.sgml: minor change

	* module/Makefile.in: auto-dependencies for compat.c

	* module/compat.c:
	* module/compat22.h: FIXME remove for vmalloc_32

2002-01-20  Philippe Elie  <ph_e@club-internet.fr>

	* gui/oprof_start.cpp: fix configuration saving when
	  switching of cpu_type.

	* module/Makefile.in:
	* module/compat.c: minor change

	* compat.h: add minor macro
	* oprofile.c: use minor instead MINOR (2.5.2 support)

	* op_x86.c: check SPIV (missing from a previous patch)

2002-01-20  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: punt some things to next release

	* dae/opd_proc.c: fix printf of null
 
2002-01-20  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* module/oprofile.c: add comment
 
	* module/compat22.h:
	* module/compat24.h:
	* module/op_syscalls.c: fix locking for out_mmap
 
2002-01-20  Philippe Elie  <ph_e@club-internet.fr>

	* module/op_x86.c: check MSR + SPIV for enabling APIC
 
	* module/compat.c: don't attempt to get root

	* module/compat.h: NEED_FIXMAP fixes
 
2002-01-18  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* module/compat.h:
	* module/compat24.h: move things needed for 2.2/2.4 in compat.h

2002-01-18  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat22.h: never wake up from NMI
	  on 2.2 SMP for now :(
 
2002-01-18  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h:
	* module/compat22.h: 
	* module/compat24.h: s/VATLEAST/V_AT_LEAST/
 
	* module/oprofile.c: remove dead code
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.c: don't need to re-take BKL for
	  d_path on 2.2
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat22.h:
	* module/compat24.h:
	* module/op_syscalls.c: we mustn't take the mmap sem
	  under 2.2
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat22.h:
	* module/compat24.h:
	* module/op_syscalls.c: whoops, handy to lock the
	  BKL when it is necessary.
 
	* dae/oprofiled.c: fix warning

2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* op_user.h:
	* dae/op_start:
	* gui/oprof_start_config.h:
	* module/oprofile.h: bump note size and watermark,
	  I was getting problems on my dual SMP box in kernel compiles
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in:
	* module/oprofile_nmi.S:
	* module/oprofile_nmi22.S:
	* module/oprofile_nmi24.S: split assembly for 2.2/4 

	* module/compat.h:
	* module/compat22.h:
	* module/compat24.h: s/AFTER/ATLEAST/
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat24.h: define to have ->owner
 
2002-01-17  Philippe Elie  <ph_e@club-internet.fr>

	* gui/oprof_start.h:
	* gui/oprof_start_config.h:
	* gui/oprof_start.cpp: validate the RTC max count

2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* oprofile.c:
	* module/compat24.h: 
	* module/compat22.h: fix compile, nmi wake up check
	 
	* module/op_rtc.c: user/kernel profiling feature
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: clarification
 
	* module/compat22.h:
	* module/compat24.h:
	* module/oprofile.c: ->owner fixes
 
2002-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.h: clean up
 
	* module/compat.h:
	* module/compat22.h:
	* module/compat24.h: split header files up
	  for readability
 
2002-01-17  Philippe Elie  <ph_e@club-internet.fr>

	* TODO: update

	* doc/oprofile.sgml: speach about assembler

	* module/compat.h: small tweak for 2.2, no impact on 2.4

2002-01-16  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: look for rtc_lock
 
	* module/compat.h: use rtc_lock if there

2002-01-16  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h:
	* module/apic_up_compat.h: cleanup + allow compile
	  !CONFIG_X86_LOCAL_APIC on 2.4/2.5. (only compile
	  tested)

2002-01-15  Philippe Elie  <ph_e@club-internet.fr>

	* events/op_events.c: avoid gui crash: event name must
	  contain only one word. If you test RTC patch destroy
	  ~/.oprofile/oprof_start_event#0

2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h:
	* module/compat.c:
	* module/op_rtc.c: 2.2 modversions fix
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* module/compat.h:
	* module/compat.c:
	* module/op_rtc.c: fix 2.2 compile

2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* module/Makefile.in: whoops, forgot to commit this
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start.cpp: some improvements for RTC
 
2002-01-15  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop: fix "op_start && op_stop" bug using multiple
	  dump_stop writes.

2002-01-14  Dave Jones <davej@suse.de>

	* pp/op_time.cpp: fix for printing (NaN%) in the zero sample case.

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* module/op_rtc.c: remove unneeded check

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_start: fix for PMC case
 
2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/op_start: take --rtc-value

	* dae/oprofiled.c: set headers sensibly for RTC

	* doc/oprofile.1.in: update

	* doc/oprofile.sgml: RTC update

	* events/op_events_descr.c: 
	* events/op_events.c: good name for RTC event 

	* gui/oprof_start.cpp: basic support for RTC

	* module/op_rtc.c: implement and use rtc_value

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/op_start: load module at start. Handle CPU_RTC.
	  Avoid sysctl for now on RTC case.

	* dae/oprofiled.c: only read sysctls if PMC. Needs clean.

	* events/op_events.c: add RTC event.

	* events/op_events_desc.c: get CPU type from module. 

	* module/op_init.c: detect CPU_RTC.

	* module/op_nmi.c: setup code moved from op_init.c

	* module/op_rtc.c: enable interrupt, fixed at 128 for now.

	* module/op_x86.c: add Athlon to needs_apic_setup checks

	* module/oprofile.c: use correct interrupt handler based on
	  CPU type

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* op_user.h: add CPU_RTC

	* op_init.c: add FIXMEs

	* op_nmi.c:
	* op_rtc.c:
	* oprofile.h:
	* oprofile.c: implement abstract interrupt handler code

2002-01-14  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start_config.cpp: fix vmlinux/system.map defaults
 
2002-01-13  Philippe Elie  <ph_e@club-internet.fr>

	* configure.in: reject unsupported kernel version
	* module/apic_up_compat.h:
	* module/compat.h: small cleanup
	* module/op_x86.c: ditto, always put apic memory page as
	  non cachable

2002-01-12  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start_util.h:
	* gui/oprof_start_util.cpp: implement whitelist for arguments
	  to op_start
 
	* TODO: update

2002-01-13  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h:
	* module/apic_up_compat.h:
	* module/op_x86.c: allow to run oprofile when
	  !CONFIG_X86_LOCAL_APIC on 2.2.x kernel

2002-01-12  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: fix some FIXME
	* module/op_x86.c: do not hang SMP kernel UP box with 2.2.x

2002-01-11  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: support for UP from 2.2.0, for SMP
	  from 2.2.8. It is worthwhile to try more support.
	  !CONFIG_X86_LOCAL_APIC not yet supported.

2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/opd_proc.c:
	* doc/oprofile.sgml:
	* pp/op_time.cpp: add FIXMEs
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: never return 0 unless we're
	  really closing down
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
	* gui/Makefile.in:
	* gui/oprof_start.cpp: use absolute paths
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: add note about --with-linux
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* Rules.make.in:
	* gui/Makefile.in:
	* gui/oprof_start_config.h:
	* gui/oprof_start_config.cpp: remove kernel headers
	  from userland !

2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: remove dead checks. comment out APIC check,
	  hide grep output

	* module/Makefile.in: add compat.c

	* apic_up_compat.h: UP 2.2 missing defines. Need to investigate
	  fixmap situation. 

	* compat.c: move 2.2 dcache code here

	* compat.h: dcache compat support. check for whether we
	  should check for mptable. Don't do fixmap hack on 2.2 

	* op_dcache.h: shared dcache inline functions

	* op_syscalls.c: clean up dcache code for 2.2/2.4 

	* op_x86.c: update apic_need_setup for 2.2 and the possibility
	  of not enabling APIC support on 2.4 too. Needs checking ! Also
	  don't do mptable check on 2.2

	* oprofile.h: add missing include guard ;)
 
2002-01-11  John Levon  <moz@compsoc.man.ac.uk>

	* module/compat.h: minor fixes
 
2002-01-11  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: many change, can be used down to 2.2.8
	* module/oprofile.h: move #ifdef on kernel version to compat.h
	* module/op_util.c:
	* module/op_syscalls.c: minor change
	* configure.in: comment unnecessary stuf.

	* module/Makefile.in: missing include path for oprofile.s

2002-01-10  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.in: update checklist for dist

	* module/oprofile.h: add apparently needed version.h
 
2002-01-10  John Levon  <moz@compsoc.man.ac.uk>

	* configure.in: fix accidental trashing of BKCFLAGS

	* module/op_util.c: include right header

	* module/compat.h: use correct smp_call_function
 
2002-01-10  Philippe Elie  <ph_e@club-internet.fr>

	* module/compat.h: new file include backward compatibility
	  stuff

2002-01-09  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: update infodragon's email
	  address
 
	* configure.in: bump to 0.0.9cvs

2002-01-08  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* configure.in: fix case when X isn't installed. Bump to 0.0.8
 
2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* util/Makefile.in: "fix" last g++ 3.0 problem
	  with libiberty.h and string.h clashing prototypes
	  by disabling -pedantic for this directory
 
2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* pp/opf_container.cpp:
	* pp/opf_filter.h:
	* pp/oprofpp.cpp: 
	* pp/oprofpp.h: 
	* pp/oprofpp_util.cpp: 
	* util/file_manip.h:
	* util/file_manip.cpp: 
	* util/string_manip.h: fix most g++ 3.0 problems

2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update
 
2002-01-05  Philippe Elie  <ph_e@club-internet.fr>

	* doc/oprofile.sgml: Avoid to use -- inside
	  sgml comment

2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_start:
	* dae/op_stop: (very) hacky loop to wait for
	daemon start and stop
 
2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: revert my broken stop fix,
	  and fix the old (new) one
 
2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_kernel.c:
	* dae/opd_proc.c:
	* dae/opd_proc.h:
	* dae/opd_util.c:
	* dae/oprofiled.c: 
	* dae/oprofiled.h: further minor cleanups

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: change last change to have an
	  explicit check in the sysctl dump, rather than generalised
	  code.

2002-01-04  Philippe Elie  <ph_e@club-internet.fr>

	* module/oprofile.c: do not re-enable counter during
	  shutdown

	* dae/Makefile.in: fix opd_kernel.c dependancy

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/Makefile.in:
	* dae/opd_proc.c:
	* dae/opd_kernel.c: move kernel/module stuff into
	  new file. Some minor changes.
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.c: remove extra dump
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_proc.c: minor crap
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* TODO: update

	* dae/oprofiled.c:
	* dae/oprofiled.h:
	* dae/opd_proc.c: print stats on shutdown too

	* module/oprofile.c: additional check against daemon hanging on shutdown :(
 
2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop:
	* dae/oprofiled.c:
	* doc/oprofile.sgml:
	* module/oprofile.h:
	* module/oprofile.c: implement new clean shutdown via
	  sysctl dump_stop

2002-01-04  Philippe Elie  <ph_e@club-internet.fr>

	* module/oprofile.c: add a warning when note buff overflow.

2002-01-04  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: pin note at the end on overflow
 
2002-01-03  Philippe Elie  <ph_e@club-internet.fr>

	* dae/opd_proc.c: Apologies: stupid bug. Never forget
	  than LRU list of samples files must not contain already
  	  unmaped files

	* module/oprofile.c: another silly bug, detected cpu was
	  overwritten...

2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: some fixes, comments

2002-01-03  Philippe Elie  <ph_e@club-internet.fr>

	* doc/oprofile.sgml: improve documentation, corrected
	  by John Levon

2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* gui/oprof_start.h:
	* gui/oprof_start.cpp:
	* gui/ui/oprof_start.base.ui: remove the config buttons
	  and save on a hide from the WM
 
2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* module/oprofile.c: make sure note_pos never goes
	  past the buffer :P
 
2002-01-03  John Levon  <moz@compsoc.man.ac.uk>

	* dae/opd_util.c: allow EAGAINs through as well
 
2002-01-02  Philippe Elie  <ph_e@club-internet.fr>

	* pp/opf_container.cpp:
	* pp/opf_filter.cpp: minor change

2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* doc/oprofile.sgml: various docs improvements
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* dae/oprofiled.c: better enable the actual
	  profiling again :P
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* config.h.in: remove this again from CVS.
 
2002-01-02  John Levon  <moz@compsoc.man.ac.uk>

	* dae/op_stop: send SIGUSR1 to stop profiler
 
	* dae/opd_proc.c: reformat a little
 
	* dae/opd_util.h:
	* dae/opd_util.c: change opd_read_device semantics
 
	* dae/oprofiled.c: clean shutdown from SIGUSR1
 
	* module/oprofile.c: handle non-blocking reads
 
	* pp/opf_filter.h:
	* pp/opf_filter.cpp: slight cleanups
 
	* TODO: update
 
2002-01-01  John Levon  <moz@compsoc.man.ac.uk>

	* oprofile.sgml: clarify that -g is not necessary for
	  basic profiling (reported by Jeff Epler <jepler@inetnebr.com>)

See ChangeLog-2001 for earlier changelogs.
