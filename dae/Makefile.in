include ../make.common

HEADERS=p_module.h opd_proc.h oprofiled.h
SOURCES=opd_kernel.c opd_proc.c oprofiled.c
OBJECTS=opd_kernel.o opd_proc.o oprofiled.o
TARGET=oprofiled

LIBS=-ldb -lop -lutil -lpopt -liberty
 
all: $(TARGET)

install:
	$(INSTALL) oprofiled $(BINDIR)
 
uninstall:
	rm -f oprofiled
 
clean:
	rm -rf .deps $(OBJECTS) $(TARGET) 

$(TARGET): $(OBJECTS)
	$(CC) -o $@ $^ $(LDFLAGS) $(LIBS)
 
include ../make.deps
